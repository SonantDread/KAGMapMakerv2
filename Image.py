import os
import re
from PIL import Image as PILImage
class Image:
    indexes = {
        "unused": int(0),
        "tile_ground": int(16),
        "tile_grassy_ground": int(23),
        "tile_grass": int(25),
        "tile_ground_back": int(32),
        "tile_castle": int(48),
        "tile_castle_back": int(64),
        "tile_gold": int(80),
        "tile_stone": int(96),
        "tile_bedrock": int(106),
        "tile_wood_back": int(173),
        "tile_wood": int(196),
        "tile_thickstone": int(208),
        "tile_castle_moss": int(224),
        "tile_castle_back_moss": int(227),
        "sky": int(400),
    }

    def __init__(self, filepath: str = r"C:\Program Files (x86)\Steam\steamapps\common\King Arthur's Gold\Base\Scripts\MapLoaders\LoaderColors.as") -> None:
        self.filepath = filepath
        self.ARGB = None

        self.getARGB()

    @staticmethod
    def get_block_names():
        return list(Image.indexes.keys())

    def hexToARGB(self, hex_code):
        hex_code = hex_code[2:]
        return tuple(int(hex_code[i:i+2], 16) for i in (0, 2, 4, 6))

    def RGBtoHex(self, RGB) -> str:
        return "0x{:02X}{:02X}{:02X}".format(*RGB)

    def getARGB(self):
        with open(self.filepath, "r") as f:
            data = f.read() # todo: error handling

            matches = re.findall(r"\b(\w+)\s*=\s*(0x[0-9A-Fa-f]+)\b", data)
            dictionary = {}

            for match in matches:
                dictionary[match[0]] = self.hexToARGB(match[1])
            
            self.ARGB = dictionary

    # TODO: automatically get a block's index by name
    def getTileIndexByName(self, tile: str) -> int:

        # TODO: auto get this from customblock.as, and append to this too?

        return Image.indexes[tile]

    # returns an ARGB color from the given name
    def getKAGMapPixelColorByName(self, name: str): # todo: this should be automatic, instead of just pasting from old project
        colors = {
            "tile_ground"            : (255, 132,  71,  21),
            "tile_ground_back"       : (255,  59,  20,   6),
            "tile_stone"             : (255, 139, 104,  73),
            "tile_thickstone"        : (255,  66,  72,  75),
            "tile_bedrock"           : (255,  45,  52,  45),
            "tile_gold"              : (255, 254, 165,  61),
            "tile_castle"            : (255, 100, 113,  96),
            "tile_castle_back"       : (255,  49,  52,  18),
            "tile_castle_moss"       : (255, 100, 143,  96),
            "tile_castle_back_moss"  : (255,  49,  82,  18),
            "tile_ladder"            : (255,  43,  21,   9),
            "tile_ladder_castle"     : (255,  67,  47,  17),
            "tile_ladder_wood"       : (255,  69,  57,  17),
            "tile_grass"             : (255, 100, 155,  13),
            "tile_wood"              : (255, 196, 135,  21),
            "tile_wood_back"         : (255,  85,  42,  17),
            "water_air"              : (255,  46, 129, 166),
            "water_backdirt"         : (255,  51,  85, 102),
            "tile_sand"              : (255, 236, 213, 144),
            "sky"                    : (255, 165, 189, 200),
            "alpha_flag"             : (255, 224,   0, 224),
            "alpha_spawn"            : (255, 224,  16, 224),
            "alpha_ladder"           : (255, 208,    0, 20),
            "alpha_spikes"           : (255, 208,   16, 20),
            "alpha_stone_door"       : (255, 208,   32, 20),
            "alpha_trap_block"       : (255, 208,   48, 20),
            "alpha_bridge"           : (255, 208,  222, 20),
            "alpha_wooden_door"      : (255, 208,   64, 20),
            "alpha_wooden_platform"  : (255, 208,   80, 20),
            "alpha_stalagmite"       : (255, 192,   0, 192),
            "alpha_chest"            : (255, 176,   0, 176),
            "alpha_lever"            : (255,   0, 255, 255),
            "alpha_pressure_plate"   : (255,  16, 255, 255),
            "alpha_push_button"      : (255,  32, 255, 255),
            "alpha_coin_slot"        : (255,  48, 255, 255),
            "alpha_sensor"           : (255,  64, 255, 255),
            "alpha_diode"            : (255, 255,   0, 255),
            "alpha_inverter"         : (255, 255,  16, 255),
            "alpha_junction"         : (255, 255,  32, 255),
            "alpha_magazine"         : (255, 255,  48, 255),
            "alpha_oscillator"       : (255, 255,  64, 255),
            "alpha_randomizer"       : (255, 255,  80, 255),
            "alpha_resistor"         : (255, 255,  96, 255),
            "alpha_toggle"           : (255, 255, 112, 255),
            "alpha_transistor"       : (255, 255, 128, 255),
            "alpha_wire"             : (255, 255, 144, 255),
            "alpha_emitter"          : (255, 255, 160, 255),
            "alpha_receiver"         : (255, 255, 176, 255),
            "alpha_elbow"            : (255, 255, 192, 255),
            "alpha_tee"              : (255, 255, 208, 255),
            "alpha_bolter"           : (255, 255, 255,   0),
            "alpha_dispenser"        : (255, 255, 255,  16),
            "alpha_lamp"             : (255, 255, 255,  32),
            "alpha_obstructor"       : (255, 255, 255,  48),
            "alpha_spiker"           : (255, 255, 255,  64),
            "ladder"                 : (255,  66,  36,  11),
            "platform_up"            : (255, 255, 146,  57),
            "platform_right"         : (255, 255, 146,  56),
            "platform_down"          : (255, 255, 146,  55),
            "platform_left"          : (255, 255, 146,  54),
            "wooden_door_h_blue"     : (255,  26,  78, 131),
            "wooden_door_v_blue"     : (255,  26,  78, 130),
            "wooden_door_h_red"      : (255, 148,  27,  27),
            "wooden_door_v_red"      : (255, 148,  27,  26),
            "wooden_door_h_noteam"   : (255, 148, 148, 148),
            "wooden_door_v_noteam"   : (255, 148, 148, 147),
            "stone_door_h_blue"      : (255,  80,  90, 160),
            "stone_door_v_blue"      : (255,  80,  90, 159),
            "stone_door_h_red"       : (255, 160,  90,  80),
            "stone_door_v_red"       : (255, 160,  90,  79),
            "stone_door_h_noteam"    : (255, 160, 160, 160),
            "stone_door_v_noteam"    : (255, 160, 160, 159),
            "trapblock_blue"         : (255,  56,  76, 142),
            "trapblock_red"          : (255, 142,  56,  68),
            "trapblock_noteam"       : (255, 100, 100, 100),
            "bridge_blue"            : (255,  56,  76, 222),
            "bridge_red"             : (255, 222,  56,  68),
            "bridge_noteam"          : (255, 222, 222, 222),
            "spikes"                 : (255, 180,  42,  17),
            "spikes_ground"          : (255, 180,  97,  17),
            "spikes_castle"          : (255, 180,  42,  94),
            "spikes_wood"            : (255, 200,  42,  94),
            "knight_shop"            : (255, 255, 190, 190),
            "builder_shop"           : (255, 190, 255, 190),
            "archer_shop"            : (255, 255, 255, 190),
            "boat_shop"              : (255, 200, 190, 255),
            "vehicle_shop"           : (255, 230, 230, 230),
            "quarters"               : (255, 240, 190, 255),
            "storage_noteam"         : (255, 217, 255, 239),
            "barracks_noteam"        : (255, 217, 218, 255),
            "factory_noteam"         : (255, 255, 217, 237),
            "tunnel_blue"            : (255, 220, 217, 254),
            "tunnel_red"             : (255, 243, 217, 220),
            "tunnel_noteam"          : (255, 243, 217, 254),
            "kitchen"                : (255, 255, 217, 217),
            "nursery"                : (255, 217, 255, 223),
            "research"               : (255, 225, 225, 225),
            "blue_main_spawn"        : (255,   0, 255, 255),
            "red_main_spawn"         : (255, 255,   0,   0),
            "green_main_spawn"       : (255, 157, 202,  34),
            "purple_main_spawn"      : (255, 211, 121, 224),
            "orange_main_spawn"      : (255, 205,  97,  32),
            "aqua_main_spawn"        : (255,  46, 229, 162),
            "teal_main_spawn"        : (255,  95, 132, 236),
            "gray_main_spawn"        : (255, 196, 207, 161),
            "blue_spawn"             : (255,   0, 200, 200),
            "red_spawn"              : (255, 200,   0,   0),
            "purple_spawn"           : (255, 158,  58, 204),
            "aqua_spawn"             : (255,  79, 155, 127),
            "teal_spawn"             : (255,  65,  73, 240),
            "gray_spawn"             : (255, 151, 167, 146),
            "workbench"              : (255,   0, 255,   0),
            "campfire"               : (255, 251, 226, 139),
            "saw"                    : (255, 202, 164, 130),
            "tree"                   : (255,  13, 103,  34),
            "bush"                   : (255,  91, 126,  24),
            "grain"                  : (255, 162, 183,  22),
            "flowers"                : (255, 255, 102, 255),
            "log"                    : (255, 160, 140,  40),
            "shark"                  : (255,  44, 175, 222),
            "fish"                   : (255, 121, 168, 163),
            "bison"                  : (255, 183,  86,  70),
            "chicken"                : (255, 141,  38,  20),
            "chest"                  : (255, 240, 193,  80),
            "drill"                  : (255, 210, 120,   0),
            "trampoline"             : (255, 187,  59, 253),
            "lantern"                : (255, 241, 231,  11),
            "crate"                  : (255, 102,   0,   0),
            "bucket"                 : (255, 255, 220, 120),
            "sponge"                 : (255, 220,   0, 180),
            "steak"                  : (255, 219, 136, 103),
            "burger"                 : (255, 205, 142,  75),
            "heart"                  : (255, 255,  40,  80),
            "bombs"                  : (255, 251, 241,  87),
            "waterbombs"             : (255, 210, 200, 120),
            "arrows"                 : (255, 200, 210,  70),
            "waterarrows"            : (255, 200, 160,  10),
            "firearrows"             : (255, 230, 210,  70),
            "bombarrows"             : (255, 200, 180,  10),
            "bolts"                  : (255, 230, 230, 170),
            "blue_mine"              : (255,  90, 100, 255),
            "red_mine"               : (255, 255, 160,  90),
            "mine_noteam"            : (255, 215,  75, 255),
            "boulder"                : (255, 161, 149, 133),
            "satchel"                : (255, 170, 100,   0),
            "keg"                    : (255, 220,  60,  60),
            "mountedbow"             : (255,  56, 232, 184),
            "catapult"               : (255, 103, 229, 165),
            "ballista"               : (255, 100, 210, 160),
            "raft"                   : (255,  70, 110, 155),
            "dinghy"                 : (255, 201, 158, 246),
            "longboat"               : (255,   0,  51, 255),
            "warboat"                : (255,  50, 140, 255),
            "airship"                : (255, 255, 175,   0),
            "bomber"                 : (255, 255, 190,   0),
            "gold"                   : (255, 255, 240, 160),
            "stone"                  : (255, 190, 190, 175),
            "wood"                   : (255, 200, 190, 140),
            "princess"               : (255, 251, 135, 255),
            "necromancer"            : (255, 158,  58, 187),
            "necromancer_teleport"   : (255,  98,  26, 131),
            "mook_knight"            : (255, 255,  95,  25),
            "mook_archer"            : (255,  25, 255, 182),
            "mook_spawner"           : (255,  62,   1,   0),
            "mook_spawner_10"        : (255,  86,   6,  44),
            "dummy"                  : (255, 231, 140,  67),
            "redbarrier"			 : (255, 228,  55, 113),
        }

        return colors[name]
    
    def getAllKAGItems(self):
        colors = [
            "tile_ground"            ,
            "tile_ground_back"       ,
            "tile_stone"             ,
            "tile_thickstone"        ,
            "tile_bedrock"           ,
            "tile_gold"              ,
            "tile_castle"            ,
            "tile_castle_back"       ,
            "tile_castle_moss"       ,
            "tile_castle_back_moss"  ,
            "tile_ladder"            ,
            "tile_ladder_castle"     ,
            "tile_ladder_wood"       ,
            "tile_grass"             ,
            "tile_wood"              ,
            "tile_wood_back"         ,
            "water_air"              ,
            "water_backdirt"         ,
            "tile_sand"              ,
            "sky"                    ,
            "alpha_flag"             ,
            "alpha_spawn"            ,
            "alpha_ladder"           ,
            "alpha_spikes"           ,
            "alpha_stone_door"       ,
            "alpha_trap_block"       ,
            "alpha_bridge"           ,
            "alpha_wooden_door"      ,
            "alpha_wooden_platform"  ,
            "alpha_stalagmite"       ,
            "alpha_chest"            ,
            "alpha_lever"            ,
            "alpha_pressure_plate"   ,
            "alpha_push_button"      ,
            "alpha_coin_slot"        ,
            "alpha_sensor"           ,
            "alpha_diode"            ,
            "alpha_inverter"         ,
            "alpha_junction"         ,
            "alpha_magazine"         ,
            "alpha_oscillator"       ,
            "alpha_randomizer"       ,
            "alpha_resistor"         ,
            "alpha_toggle"           ,
            "alpha_transistor"       ,
            "alpha_wire"             ,
            "alpha_emitter"          ,
            "alpha_receiver"         ,
            "alpha_elbow"            ,
            "alpha_tee"              ,
            "alpha_bolter"           ,
            "alpha_dispenser"        ,
            "alpha_lamp"             ,
            "alpha_obstructor"       ,
            "alpha_spiker"           ,
            "ladder"                 ,
            "platform_up"            ,
            "platform_right"         ,
            "platform_down"          ,
            "platform_left"          ,
            "wooden_door_h_blue"     ,
            "wooden_door_v_blue"     ,
            "wooden_door_h_red"      ,
            "wooden_door_v_red"      ,
            "wooden_door_h_noteam"   ,
            "wooden_door_v_noteam"   ,
            "stone_door_h_blue"      ,
            "stone_door_v_blue"      ,
            "stone_door_h_red"       ,
            "stone_door_v_red"       ,
            "stone_door_h_noteam"    ,
            "stone_door_v_noteam"    ,
            "trapblock_blue"         ,
            "trapblock_red"          ,
            "trapblock_noteam"       ,
            "bridge_blue"            ,
            "bridge_red"             ,
            "bridge_noteam"          ,
            "spikes"                 ,
            "spikes_ground"          ,
            "spikes_castle"          ,
            "spikes_wood"            ,
            "knight_shop"            ,
            "builder_shop"           ,
            "archer_shop"            ,
            "boat_shop"              ,
            "vehicle_shop"           ,
            "quarters"               ,
            "storage_noteam"         ,
            "barracks_noteam"        ,
            "factory_noteam"         ,
            "tunnel_blue"            ,
            "tunnel_red"             ,
            "tunnel_noteam"          ,
            "kitchen"                ,
            "nursery"                ,
            "research"               ,
            "blue_main_spawn"        ,
            "red_main_spawn"         ,
            "green_main_spawn"       ,
            "purple_main_spawn"      ,
            "orange_main_spawn"      ,
            "aqua_main_spawn"        ,
            "teal_main_spawn"        ,
            "gray_main_spawn"        ,
            "blue_spawn"             ,
            "red_spawn"              ,
            "purple_spawn"           ,
            "aqua_spawn"             ,
            "teal_spawn"             ,
            "gray_spawn"             ,
            "workbench"              ,
            "campfire"               ,
            "saw"                    ,
            "tree"                   ,
            "bush"                   ,
            "grain"                  ,
            "flowers"                ,
            "log"                    ,
            "shark"                  ,
            "fish"                   ,
            "bison"                  ,
            "chicken"                ,
            "chest"                  ,
            "drill"                  ,
            "trampoline"             ,
            "lantern"                ,
            "crate"                  ,
            "bucket"                 ,
            "sponge"                 ,
            "steak"                  ,
            "burger"                 ,
            "heart"                  ,
            "bombs"                  ,
            "waterbombs"             ,
            "arrows"                 ,
            "waterarrows"            ,
            "firearrows"             ,
            "bombarrows"             ,
            "bolts"                  ,
            "blue_mine"              ,
            "red_mine"               ,
            "mine_noteam"            ,
            "boulder"                ,
            "satchel"                ,
            "keg"                    ,
            "mountedbow"             ,
            "catapult"               ,
            "ballista"               ,
            "raft"                   ,
            "dinghy"                 ,
            "longboat"               ,
            "warboat"                ,
            "airship"                ,
            "bomber"                 ,
            "gold"                   ,
            "stone"                  ,
            "wood"                   ,
            "princess"               ,
            "necromancer"            ,
            "necromancer_teleport"   ,
            "mook_knight"            ,
            "mook_archer"            ,
            "mook_spawner"           ,
            "mook_spawner_10"        ,
            "dummy"                  ,
            "redbarrier"			 ,
        ]
    
        return colors

        # returns an ARGB color from the given name
    def getKAGMapNameByPixelColor(self, color: str): # todo: this should be automatic, instead of just pasting from old project
        colors = {
            (255, 132,  71,  21) : "tile_ground"          ,
            (255,  59,  20,   6) : "tile_ground_back"     ,
            (255, 139, 104,  73) : "tile_stone"           ,
            (255,  66,  72,  75) : "tile_thickstone"      ,
            (255,  45,  52,  45) : "tile_bedrock"         ,
            (255, 254, 165,  61) : "tile_gold"            ,
            (255, 100, 113,  96) : "tile_castle"          ,
            (255,  49,  52,  18) : "tile_castle_back"     ,
            (255, 100, 143,  96) : "tile_castle_moss"     ,
            (255,  49,  82,  18) : "tile_castle_back_moss",
            (255,  43,  21,   9) : "tile_ladder"          ,
            (255,  67,  47,  17) : "tile_ladder_castle"   ,
            (255,  69,  57,  17) : "tile_ladder_wood"     ,
            (255, 100, 155,  13) : "tile_grass"           ,
            (255, 196, 135,  21) : "tile_wood"            ,
            (255,  85,  42,  17) : "tile_wood_back"       ,
            (255,  46, 129, 166) : "water_air"            ,
            (255,  51,  85, 102) : "water_backdirt"       ,
            (255, 236, 213, 144) : "tile_sand"            ,
            (255, 165, 189, 200) : "sky"                  ,
            (255, 224,   0, 224) : "alpha_flag"           ,
            (255, 224,  16, 224) : "alpha_spawn"          ,
            (255, 208,    0, 20) : "alpha_ladder"         ,
            (255, 208,   16, 20) : "alpha_spikes"         ,
            (255, 208,   32, 20) : "alpha_stone_door"     ,
            (255, 208,   48, 20) : "alpha_trap_block"     ,
            (255, 208,  222, 20) : "alpha_bridge"         ,
            (255, 208,   64, 20) : "alpha_wooden_door"    ,
            (255, 208,   80, 20) : "alpha_wooden_platform",
            (255, 192,   0, 192) : "alpha_stalagmite"     ,
            (255, 176,   0, 176) : "alpha_chest"          ,
            (255,   0, 255, 255) : "alpha_lever"          ,
            (255,  16, 255, 255) : "alpha_pressure_plate" ,
            (255,  32, 255, 255) : "alpha_push_button"    ,
            (255,  48, 255, 255) : "alpha_coin_slot"      ,
            (255,  64, 255, 255) : "alpha_sensor"         ,
            (255, 255,   0, 255) : "alpha_diode"          ,
            (255, 255,  16, 255) : "alpha_inverter"       ,
            (255, 255,  32, 255) : "alpha_junction"       ,
            (255, 255,  48, 255) : "alpha_magazine"       ,
            (255, 255,  64, 255) : "alpha_oscillator"     ,
            (255, 255,  80, 255) : "alpha_randomizer"     ,
            (255, 255,  96, 255) : "alpha_resistor"       ,
            (255, 255, 112, 255) : "alpha_toggle"         ,
            (255, 255, 128, 255) : "alpha_transistor"     ,
            (255, 255, 144, 255) : "alpha_wire"           ,
            (255, 255, 160, 255) : "alpha_emitter"        ,
            (255, 255, 176, 255) : "alpha_receiver"       ,
            (255, 255, 192, 255) : "alpha_elbow"          ,
            (255, 255, 208, 255) : "alpha_tee"            ,
            (255, 255, 255,   0) : "alpha_bolter"         ,
            (255, 255, 255,  16) : "alpha_dispenser"      ,
            (255, 255, 255,  32) : "alpha_lamp"           ,
            (255, 255, 255,  48) : "alpha_obstructor"     ,
            (255, 255, 255,  64) : "alpha_spiker"         ,
            (255,  66,  36,  11) : "ladder"               ,
            (255, 255, 146,  57) : "platform_up"          ,
            (255, 255, 146,  56) : "platform_right"       ,
            (255, 255, 146,  55) : "platform_down"        ,
            (255, 255, 146,  54) : "platform_left"        ,
            (255,  26,  78, 131) : "wooden_door_h_blue"   ,
            (255,  26,  78, 130) : "wooden_door_v_blue"   ,
            (255, 148,  27,  27) : "wooden_door_h_red"    ,
            (255, 148,  27,  26) : "wooden_door_v_red"    ,
            (255, 148, 148, 148) : "wooden_door_h_noteam" ,
            (255, 148, 148, 147) : "wooden_door_v_noteam" ,
            (255,  80,  90, 160) : "stone_door_h_blue"    ,
            (255,  80,  90, 159) : "stone_door_v_blue"    ,
            (255, 160,  90,  80) : "stone_door_h_red"     ,
            (255, 160,  90,  79) : "stone_door_v_red"     ,
            (255, 160, 160, 160) : "stone_door_h_noteam"  ,
            (255, 160, 160, 159) : "stone_door_v_noteam"  ,
            (255,  56,  76, 142) : "trapblock_blue"       ,
            (255, 142,  56,  68) : "trapblock_red"        ,
            (255, 100, 100, 100) : "trapblock_noteam"     ,
            (255,  56,  76, 222) : "bridge_blue"          ,
            (255, 222,  56,  68) : "bridge_red"           ,
            (255, 222, 222, 222) : "bridge_noteam"        ,
            (255, 180,  42,  17) : "spikes"               ,
            (255, 180,  97,  17) : "spikes_ground"        ,
            (255, 180,  42,  94) : "spikes_castle"        ,
            (255, 200,  42,  94) : "spikes_wood"          ,
            (255, 255, 190, 190) : "knight_shop"          ,
            (255, 190, 255, 190) : "builder_shop"         ,
            (255, 255, 255, 190) : "archer_shop"          ,
            (255, 200, 190, 255) : "boat_shop"            ,
            (255, 230, 230, 230) : "vehicle_shop"         ,
            (255, 240, 190, 255) : "quarters"             ,
            (255, 217, 255, 239) : "storage_noteam"       ,
            (255, 217, 218, 255) : "barracks_noteam"      ,
            (255, 255, 217, 237) : "factory_noteam"       ,
            (255, 220, 217, 254) : "tunnel_blue"          ,
            (255, 243, 217, 220) : "tunnel_red"           ,
            (255, 243, 217, 254) : "tunnel_noteam"        ,
            (255, 255, 217, 217) : "kitchen"              ,
            (255, 217, 255, 223) : "nursery"              ,
            (255, 225, 225, 225) : "research"             ,
            (255,   0, 255, 255) : "blue_main_spawn"      ,
            (255, 255,   0,   0) : "red_main_spawn"       ,
            (255, 157, 202,  34) : "green_main_spawn"     ,
            (255, 211, 121, 224) : "purple_main_spawn"    ,
            (255, 205,  97,  32) : "orange_main_spawn"    ,
            (255,  46, 229, 162) : "aqua_main_spawn"      ,
            (255,  95, 132, 236) : "teal_main_spawn"      ,
            (255, 196, 207, 161) : "gray_main_spawn"      ,
            (255,   0, 200, 200) : "blue_spawn"           ,
            (255, 200,   0,   0) : "red_spawn"            ,
            (255, 158,  58, 204) : "purple_spawn"         ,
            (255,  79, 155, 127) : "aqua_spawn"           ,
            (255,  65,  73, 240) : "teal_spawn"           ,
            (255, 151, 167, 146) : "gray_spawn"           ,
            (255,   0, 255,   0) : "workbench"            ,
            (255, 251, 226, 139) : "campfire"             ,
            (255, 202, 164, 130) : "saw"                  ,
            (255,  13, 103,  34) : "tree"                 ,
            (255,  91, 126,  24) : "bush"                 ,
            (255, 162, 183,  22) : "grain"                ,
            (255, 255, 102, 255) : "flowers"              ,
            (255, 160, 140,  40) : "log"                  ,
            (255,  44, 175, 222) : "shark"                ,
            (255, 121, 168, 163) : "fish"                 ,
            (255, 183,  86,  70) : "bison"                ,
            (255, 141,  38,  20) : "chicken"              ,
            (255, 240, 193,  80) : "chest"                ,
            (255, 210, 120,   0) : "drill"                ,
            (255, 187,  59, 253) : "trampoline"           ,
            (255, 241, 231,  11) : "lantern"              ,
            (255, 102,   0,   0) : "crate"                ,
            (255, 255, 220, 120) : "bucket"               ,
            (255, 220,   0, 180) : "sponge"               ,
            (255, 219, 136, 103) : "steak"                ,
            (255, 205, 142,  75) : "burger"               ,
            (255, 255,  40,  80) : "heart"                ,
            (255, 251, 241,  87) : "bombs"                ,
            (255, 210, 200, 120) : "waterbombs"           ,
            (255, 200, 210,  70) : "arrows"               ,
            (255, 200, 160,  10) : "waterarrows"          ,
            (255, 230, 210,  70) : "firearrows"           ,
            (255, 200, 180,  10) : "bombarrows"           ,
            (255, 230, 230, 170) : "bolts"                ,
            (255,  90, 100, 255) : "blue_mine"            ,
            (255, 255, 160,  90) : "red_mine"             ,
            (255, 215,  75, 255) : "mine_noteam"          ,
            (255, 161, 149, 133) : "boulder"              ,
            (255, 170, 100,   0) : "satchel"              ,
            (255, 220,  60,  60) : "keg"                  ,
            (255,  56, 232, 184) : "mountedbow"           ,
            (255, 103, 229, 165) : "catapult"             ,
            (255, 100, 210, 160) : "ballista"             ,
            (255,  70, 110, 155) : "raft"                 ,
            (255, 201, 158, 246) : "dinghy"               ,
            (255,   0,  51, 255) : "longboat"             ,
            (255,  50, 140, 255) : "warboat"              ,
            (255, 255, 175,   0) : "airship"              ,
            (255, 255, 190,   0) : "bomber"               ,
            (255, 255, 240, 160) : "gold"                 ,
            (255, 190, 190, 175) : "stone"                ,
            (255, 200, 190, 140) : "wood"                 ,
            (255, 251, 135, 255) : "princess"             ,
            (255, 158,  58, 187) : "necromancer"          ,
            (255,  98,  26, 131) : "necromancer_teleport" ,
            (255, 255,  95,  25) : "mook_knight"          ,
            (255,  25, 255, 182) : "mook_archer"          ,
            (255,  62,   1,   0) : "mook_spawner"         ,
            (255,  86,   6,  44) : "mook_spawner_10"      ,
            (255, 231, 140,  67) : "dummy"                ,
            (255, 228,  55, 113) : "redbarrier"			  ,
        }

        return colors[color]

    def getBlockPNGByIndex(self, index: int):
        # open world.png
        image = PILImage.open(os.path.join(os.path.dirname(os.path.abspath(__file__)),"Sprites", "world.png"))

        # get sizes for image parsing
        width, height = image.size
        sections_w, sections_h = width // 8, height // 8

        # represent the images in order
        sections = []

        # TODO: optimize this to just get the 8x8 square at a png instead of using a for loop
        # parse the image
        for y in range(sections_h):
            for x in range(sections_w):
                # define our boundaries for where to crop, basically just 2 (x, y) points
                left = x * 8
                upper = y * 8
                right = left + 8
                lower = upper + 8

                # crop the world.png to get the correct image
                section = image.crop((left, upper, right, lower))
                sections.append(section)

        # return the image
        return sections[index]

if __name__ == "__main__":
    Image()